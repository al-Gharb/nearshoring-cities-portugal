{
  "_meta": {
    "schema": "3.0",
    "database": "COMPENSATION_DATA",
    "lastUpdated": "2026-02-06T00:00:00Z",
    "version": "1.0.0",
    "baseline": {
      "location": "Lisbon",
      "currency": "EUR",
      "period": "monthly",
      "year": 2024
    }
  },

  "methodology": {
    "salaryFormat": "12x",
    "salaryFormatExplanation": "All salary values are normalized to 12 monthly payments for international comparison. Portugal's labor law mandates 14 payments/year (12 regular + holiday subsidy + Christmas subsidy), but we express salaries as if paid in 12 equal installments to match global standards. The 14-payment system is mentioned for context only.",
    "formula": "final_salary = (base_midpoint × tier_multiplier × (1 + tech_premium)) × (city_salary_index / 100)",
    "salaryIndexFormula": {
      "description": "IT-convergence-compressed INE baseline + COL adjustment",
      "step1": "compressed = ineBaseline + (100 − ineBaseline) × IT_CONVERGENCE",
      "step2": "salaryIndex = compressed + (colIndex − NATIONAL_COL_AVG) × COL_SENSITIVITY",
      "step3": "cap at 100 (Lisbon = 100 by definition)",
      "parameters": {
        "IT_CONVERGENCE": 0.45,
        "NATIONAL_COL_AVG": 33,
        "COL_SENSITIVITY": 0.65
      },
      "rationale": "IT salaries vary less between Portuguese regions than all-sector averages due to remote work, national talent competition, and employer COL adjustments. The convergence factor (0.45) compresses INE all-sector baselines toward 100, while the COL adjustment (±0.65 per Numbeo point) captures local cost-of-living pressure.",
      "autoCalculated": true,
      "implementation": "computeAllSalaryIndices() in calculations.js runs at startup, reading INE baselines from COMPENSATION_DATA.json and COL from each city in MASTER.json"
    },
    "notes": [
      "CRITICAL: All values are in 12x format (14 Portuguese payments normalized to 12 for international comparison)",
      "Base bands are Lisbon-equivalent (salaryIndex = 100)",
      "Apply single highest tech-stack premium (do NOT stack)",
      "City salary indices auto-computed from INE baseline + COL at runtime (see salaryIndexFormula)",
      "All values gross monthly before tax, expressed in 12x format",
      "HTML display values are authoritative — the htmlAuthoritative field stores the hand-tuned annual ranges shown on the website",
      "Lead/Principal = Senior × 1.12 (ratio of 1.40/1.25 multipliers)",
      "Employer Total Cost = (gross_annual_12x × 1.2375) + (€10.20/day × 220 days) meal allowance",
      "Social Security: 23.75% employer contribution (included in total cost calculation)"
    ]
  },

  "baseBands": {
    "softwareEngineer": {
      "roleType": "Software Engineer",
      "min": 2917,
      "midpoint": 3646,
      "max": 4375,
      "meta": {
        "source": { "type": "survey", "provider": "Glassdoor, Landing.jobs 2024" },
        "verification": { "level": "verified", "checkScore": 82 },
        "lifecycle": { "updateFrequency": "annual", "nextReview": "2026-11-01" },
        "htmlAuthoritative": { "junior": "€22–36k", "mid": "€38–52k", "senior": "€55–72k", "lead": "€65–85k", "employerTotal": "€29–107k" },
        "_conversionNote": "Converted from original 14x Portuguese values to 12x format (×14/12 ≈ ×1.167) for international comparison"
      }
    },
    "devops": {
      "roleType": "DevOps / SRE",
      "min": 3208,
      "midpoint": 3938,
      "max": 4667,
      "meta": {
        "source": { "type": "survey", "provider": "Glassdoor, Landing.jobs 2024" },
        "verification": { "level": "verified" },
        "htmlAuthoritative": { "junior": "€25–37k", "mid": "€40–55k", "senior": "€60–80k", "lead": "€70–90k", "employerTotal": "€33–114k" },
        "_conversionNote": "Converted from original 14x Portuguese values to 12x format (×14/12 ≈ ×1.167) for international comparison"
      }
    },
    "mlDataEngineer": {
      "roleType": "ML / Data Engineer",
      "min": 3403,
      "midpoint": 4132,
      "max": 4861,
      "meta": {
        "source": { "type": "survey", "provider": "Glassdoor, Landing.jobs 2024" },
        "verification": { "level": "verified" },
        "htmlAuthoritative": { "junior": "€25–39k", "mid": "€42–58k", "senior": "€60–82k", "lead": "€70–95k", "employerTotal": "€33–120k" },
        "_conversionNote": "Converted from original 14x Portuguese values to 12x format (×14/12 ≈ ×1.167) for international comparison"
      }
    },
    "mobileEngineer": {
      "roleType": "Mobile Engineer (iOS/Android)",
      "min": 2800,
      "midpoint": 3500,
      "max": 4200,
      "meta": {
        "source": { "type": "survey", "provider": "Glassdoor, Landing.jobs 2024" },
        "verification": { "level": "verified" },
        "htmlAuthoritative": { "junior": "€20–29k", "mid": "€33–50k", "senior": "€50–72k", "lead": "€56–80k" },
        "_conversionNote": "Converted from original 14x Portuguese values to 12x format (×14/12 ≈ ×1.167) for international comparison"
      }
    },
    "engineeringManager": {
      "roleType": "Engineering Manager",
      "min": 4667,
      "midpoint": 5833,
      "max": 7000,
      "meta": {
        "source": { "type": "survey", "provider": "Glassdoor, Landing.jobs 2024" },
        "verification": { "level": "verified" },
        "htmlAuthoritative": { "junior": "€34–46k", "mid": "€56–84k", "senior": "€84–121k", "lead": "€94–135k" },
        "_conversionNote": "Converted from original 14x Portuguese values to 12x format (×14/12 ≈ ×1.167) for international comparison"
      }
    },
    "productManager": {
      "roleType": "Product Manager (PM)",
      "min": 3403,
      "midpoint": 4132,
      "max": 4861,
      "meta": {
        "source": { "type": "survey", "provider": "Glassdoor, Landing.jobs 2024" },
        "verification": { "level": "verified" },
        "htmlAuthoritative": { "junior": "€28–39k", "mid": "€42–58k", "senior": "€60–80k", "lead": "€70–90k", "employerTotal": "€37–114k" },
        "_conversionNote": "Converted from original 14x Portuguese values to 12x format (×14/12 ≈ ×1.167) for international comparison"
      }
    },
    "qaTesting": {
      "roleType": "QA / Testing",
      "min": 2333,
      "midpoint": 2868,
      "max": 3403,
      "meta": {
        "source": { "type": "survey", "provider": "Glassdoor, Landing.jobs 2024" },
        "verification": { "level": "verified" },
        "htmlAuthoritative": { "junior": "€18–27k", "mid": "€30–40k", "senior": "€45–60k", "lead": "€50–65k", "employerTotal": "€25–83k" },
        "_conversionNote": "Converted from original 14x Portuguese values to 12x format (×14/12 ≈ ×1.167) for international comparison"
      }
    },
    "techSupport": {
      "roleType": "Tech Support L1/L2",
      "min": 1750,
      "midpoint": 2100,
      "max": 2450,
      "meta": {
        "source": { "type": "survey", "provider": "Glassdoor, Landing.jobs 2024" },
        "verification": { "level": "verified" },
        "htmlAuthoritative": { "junior": "€13–18k", "mid": "€20–30k", "senior": "€30–43k", "lead": "€34–48k" },
        "_conversionNote": "Converted from original 14x Portuguese values to 12x format (×14/12 ≈ ×1.167) for international comparison"
      }
    },
    "uxCreative": {
      "roleType": "UX / Creative",
      "min": 2722,
      "midpoint": 3305,
      "max": 3889,
      "meta": {
        "source": { "type": "survey", "provider": "Glassdoor, Landing.jobs 2024" },
        "verification": { "level": "verified" },
        "htmlAuthoritative": { "junior": "€20–31k", "mid": "€34–48k", "senior": "€50–65k", "lead": "€55–75k", "employerTotal": "€27–95k" },
        "_conversionNote": "Converted from original 14x Portuguese values to 12x format (×14/12 ≈ ×1.167) for international comparison"
      }
    },
    "adminBackoffice": {
      "roleType": "Admin / Back-office",
      "min": 1400,
      "midpoint": 1750,
      "max": 2100,
      "meta": {
        "source": { "type": "survey", "provider": "Glassdoor, Landing.jobs 2024" },
        "verification": { "level": "verified" },
        "htmlAuthoritative": { "junior": "€11–15k", "mid": "€17–25k", "senior": "€25–35k", "lead": "€28–39k" },
        "_conversionNote": "Converted from original 14x Portuguese values to 12x format (×14/12 ≈ ×1.167) for international comparison"
      }
    }
  },

  "seniorityMultipliers": {
    "junior": {
      "tier": "Junior",
      "multiplier": 0.85,
      "description": "15% below midpoint",
      "meta": {
        "source": { "type": "estimate", "provider": "Industry standard" },
        "verification": { "level": "verified" }
      }
    },
    "midLevel": {
      "tier": "Mid-level",
      "multiplier": 1.00,
      "description": "Base = MIDPOINT",
      "meta": {
        "source": { "type": "estimate", "provider": "Industry standard" },
        "verification": { "level": "verified" }
      }
    },
    "senior": {
      "tier": "Senior",
      "multiplier": 1.25,
      "description": "25% above midpoint",
      "meta": {
        "source": { "type": "estimate", "provider": "Industry standard" },
        "verification": { "level": "verified" }
      }
    },
    "leadPrincipal": {
      "tier": "Lead/Principal",
      "multiplier": 1.40,
      "description": "40% above midpoint — highly experienced",
      "meta": {
        "source": { "type": "estimate", "provider": "Industry standard" },
        "verification": { "level": "verified" }
      }
    }
  },

  "techStackPremiums": {
    "coreBackend": {
      "stack": "Core backend (Java, .NET, Python)",
      "premium": 0.00,
      "description": "Baseline — no premium",
      "meta": { "source": { "type": "estimate", "provider": "Market analysis" }, "verification": { "level": "unverified" } }
    },
    "frontend": {
      "stack": "Front-end (React, Angular, Vue)",
      "premium": 0.05,
      "description": "+5%",
      "meta": { "source": { "type": "estimate", "provider": "Market analysis" }, "verification": { "level": "unverified" } }
    },
    "mobile": {
      "stack": "Mobile (iOS/Android — native)",
      "premium": 0.10,
      "description": "+10%",
      "meta": { "source": { "type": "estimate", "provider": "Market analysis" }, "verification": { "level": "unverified" } }
    },
    "devopsCloud": {
      "stack": "DevOps / Cloud (K8s, Terraform)",
      "premium": 0.15,
      "description": "+15%",
      "meta": { "source": { "type": "estimate", "provider": "Market analysis" }, "verification": { "level": "unverified" } }
    },
    "systemsRust": {
      "stack": "Systems / Rust / Embedded",
      "premium": 0.25,
      "description": "+25%",
      "meta": { "source": { "type": "estimate", "provider": "Market analysis" }, "verification": { "level": "unverified" } }
    },
    "dataML": {
      "stack": "Data Engineering / ML / MLOps",
      "premium": 0.25,
      "description": "+25%",
      "meta": { "source": { "type": "estimate", "provider": "Market analysis" }, "verification": { "level": "unverified" } }
    },
    "security": {
      "stack": "Security / Infosec / AppSec",
      "premium": 0.30,
      "description": "+30%",
      "meta": { "source": { "type": "estimate", "provider": "Market analysis" }, "verification": { "level": "unverified" } }
    },
    "blockchain": {
      "stack": "Blockchain / Web3 / Smart Contracts",
      "premium": 0.40,
      "description": "+40%",
      "meta": { "source": { "type": "estimate", "provider": "Market analysis" }, "verification": { "level": "unverified" } }
    }
  },

  "employerCosts": {
    "socialSecurity": {
      "employerRate": 23.75,
      "employeeRate": 11.0,
      "unit": "%",
      "meta": { "source": { "type": "official", "provider": "Segurança Social" } }
    },
    "mealAllowance": {
      "cardMax": 10.20,
      "cashMax": 6.00,
      "unit": "EUR/day",
      "meta": { "source": { "type": "official", "provider": "OE 2025" } }
    },
    "workInsurance": {
      "mandatory": true,
      "avgRate": 1.0,
      "unit": "%",
      "meta": { "source": { "type": "official", "provider": "ASF" } }
    },
    "holidayAllowance": {
      "legalPayments": 14,
      "description": "Portugal mandates 14 salary payments/year (12 regular + holiday subsidy in July + Christmas subsidy in December). All salary data in this database is already normalized to 12x format for international comparison.",
      "meta": { "source": { "type": "official", "provider": "Código do Trabalho" } },
      "_normalizationNote": "The 14-payment structure is for context only. All monetary values in this database are expressed in 12x format."
    },
    "_note": "IMPORTANT: All salary values are in 12x format. Legally binding values change by government decree. Total employer cost ~25-30% above gross salary (SS + meal allowance)."
  },

  "ineRegionalEarnings": {
    "source": "INE — MTSSS/GEP Personnel Tables (Indicator 0012653)",
    "year": 2023,
    "format": "14x",
    "formatNote": "Raw values are official 14× Portuguese format. Display auto-converts to 12× equivalent (×14/12 ≈ ×1.167). Percentage vs Lisbon is auto-calculated from Bachelor column.",
    "lisbonBaselineField": "bachelor",
    "lisbonBaselineRegion": "grandeLisboa",
    "displayColumns": ["primary", "profCourse", "preBologna", "bachelor", "master"],
    "columnLabels": {
      "primary": "Primary (€)",
      "profCourse": "Prof. Course (€)",
      "preBologna": "Pre-Bologna (€)",
      "bachelor": "Bachelor (€)",
      "master": "Master (€)"
    },
    "columnTooltips": {
      "primary": "Lower than 1st cycle of primary education",
      "profCourse": "Short-cycle professional course",
      "preBologna": "(Pre-Bologna) short-cycle tertiary course",
      "bachelor": "Bachelor's level",
      "master": "Master's level"
    },
    "displayOrder": ["grandeLisboa", "peninsulaSetubal", "norte", "alentejo", "centro", "oesteTejo", "algarve"],
    "regions": {
      "portugal": {
        "name": "Portugal",
        "nutsII": "National",
        "display": false,
        "total": 1460.81,
        "primary": 970.16,
        "profCourse": 1413.22,
        "preBologna": 2190.46,
        "bachelor": 2152.25,
        "master": 2379.77
      },
      "norte": {
        "name": "Norte",
        "nutsII": "Norte",
        "display": true,
        "total": 1348.66,
        "primary": 951.14,
        "profCourse": 1357.46,
        "preBologna": 2024.07,
        "bachelor": 1947.58,
        "master": 2156.48
      },
      "centro": {
        "name": "Centro",
        "nutsII": "Centro",
        "display": true,
        "total": 1305.72,
        "primary": 966.60,
        "profCourse": 1245.53,
        "preBologna": 1755.46,
        "bachelor": 1756.21,
        "master": 1965.84
      },
      "oesteTejo": {
        "name": "Oeste/Tejo",
        "nutsII": "Oeste e Vale do Tejo",
        "display": true,
        "total": 1249.77,
        "primary": 995.32,
        "profCourse": 1271.50,
        "preBologna": 1832.99,
        "bachelor": 1763.35,
        "master": 1978.00
      },
      "grandeLisboa": {
        "name": "G. Lisboa",
        "nutsII": "Grande Lisboa",
        "highlight": true,
        "display": true,
        "total": 1817.17,
        "primary": 987.94,
        "profCourse": 1673.49,
        "preBologna": 2543.41,
        "bachelor": 2527.71,
        "master": 2713.93
      },
      "peninsulaSetubal": {
        "name": "P. Setúbal",
        "nutsII": "Península de Setúbal",
        "display": true,
        "total": 1433.11,
        "primary": 953.06,
        "profCourse": 1283.38,
        "preBologna": 2132.30,
        "bachelor": 2066.26,
        "master": 2139.84
      },
      "alentejo": {
        "name": "Alentejo",
        "nutsII": "Alentejo",
        "display": true,
        "total": 1326.13,
        "primary": 973.58,
        "profCourse": 1336.05,
        "preBologna": 1957.42,
        "bachelor": 1880.40,
        "master": 2285.68
      },
      "algarve": {
        "name": "Algarve",
        "nutsII": "Algarve",
        "display": true,
        "total": 1238.68,
        "primary": 954.85,
        "profCourse": 1367.60,
        "preBologna": 1774.68,
        "bachelor": 1722.67,
        "master": 1955.57
      }
    },
    "regionToCityMapping": {
      "grandeLisboa": ["lisbon"],
      "peninsulaSetubal": ["setubal"],
      "norte": ["porto", "braga", "guimaraes", "vilareal", "vianacastelo", "braganca"],
      "centro": ["coimbra", "aveiro", "covilha", "viseu", "castelobranco"],
      "oesteTejo": ["leiria", "santarem", "tomar"],
      "alentejo": ["evora", "beja", "portalegre"],
      "algarve": ["faro"]
    }
  },

  "calculationExamples": [
    {
      "scenario": "Senior Software Engineer in Porto (Core Backend) - 12x format",
      "inputs": {
        "role": "softwareEngineer",
        "baseMidpoint": 3646,
        "tier": "senior",
        "tierMultiplier": 1.25,
        "techStack": "coreBackend",
        "techPremium": 0.00,
        "city": "Porto",
        "cityIndex": 91.9,
        "_salaryIndexCalculation": "INE Norte baseline 77.0% → compressed 87.35 → +COL(40−33)×0.65 = +4.55 → 91.9"
      },
      "calculation": {
        "step1": "3646 × 1.25 = 4558 (after tier multiplier)",
        "step2": "4558 × (1 + 0.00) = 4558 (no tech premium)",
        "step3": "4558 × (91.9 / 100) = 4189 EUR/month (12x format)"
      },
      "result": {
        "grossMonthly": 4189,
        "unit": "EUR"
      }
    },
    {
      "scenario": "Mid-level ML Engineer in Braga (Data ML stack) - 12x format",
      "inputs": {
        "role": "mlDataEngineer",
        "baseMidpoint": 4132,
        "tier": "midLevel",
        "tierMultiplier": 1.00,
        "techStack": "dataML",
        "techPremium": 0.25,
        "city": "Braga",
        "cityIndex": 88.7,
        "_salaryIndexCalculation": "INE Norte baseline 77.0% → compressed 87.35 → +COL(35−33)×0.65 = +1.30 → 88.7"
      },
      "calculation": {
        "step1": "4132 × 1.00 = 4132 (mid-level baseline)",
        "step2": "4132 × (1 + 0.25) = 5165 (with ML premium)",
        "step3": "5165 × (88.7 / 100) = 4581 EUR/month (12x format)"
      },
      "result": {
        "grossMonthly": 4581,
        "unit": "EUR"
      }
    }
  ]
}
